<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>三级联动</title>
</head>
<body>
    <select name="province" id="province" onchange="addCity(this.value)">
        <option value="-1">--请选择--</option>
        <option value="0">湖南</option>
        <option value="1">广东</option>
        <option value="2">河南</option>
    </select>
    <select name="city" id="city" onchange = "addCounty(this.value)">
        <option value="-1">--请选择--</option>
    </select>
    <select name="county" id="county">
        <option value="-1">--请选择--</option>
    </select>

    <script>
        var citys = [
            ["长沙", "郴州", "永州"],
            ["广州", "惠州", "深圳"],
            ["郑州", "开封", "洛阳"]
        ];
        var countys = [
            [
                ["芙蓉区", "雨花区", "天心区"], ["苏仙区", "北湖区", "嘉禾县"], ["蓝山县", "宁远县", "道县"]
            ],
            [
                ["黄浦区", "天河区", "番禺区"], ["惠城区", "惠阳区", "博罗县"], ["福田区", "南山区", "宝安区"]
            ],
            [
                ["中原区", "金水区", "上街区"], ["龙亭区", "祥符区", "杞县"], ["洛龙区", "洛宁县", "孟津县"]
            ]
        ];

        function addCitysOpt(text,value) {
            // c
            var city = document.getElementById("city");

            var opt = document.createElement("option");

            opt.text = text;
            opt.value = value;
            city.options.add(opt)
        }

        function addCountyOpt(text,value) {
            var county = document.getElementById("county");
            var opt = document.createElement("option")
            opt.text = text;
            opt.value = value;
            county.options.add(opt)

        }

        function addCity(value) {
            var province = document.getElementById("province");
            var city = document.getElementById("city");
            var county = document.getElementById("county");
            //每次联动，使下拉框长度为1
            city.options.length = 1;
            county.options.length = 1;

            for(let i=0;i<citys[value].length;i++) {
                addCitysOpt(citys[value][i],i)
            }
        }

        function addCounty(value) {
            var province = document.getElementById("province");
            var city = document.getElementById("city");
            var county = document.getElementById("county")
            p_value = province.value;
            county.options.length = 1;

            for(let i=0;i<countys[p_value][value].length;i++) {
                addCountyOpt(countys[p_value][value][i],i)
            }
        }
    </script>
</body>
</html>